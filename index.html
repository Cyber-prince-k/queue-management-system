<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Queue Management System - QECH</title>
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo-container">
                <div>
                    <img src="./images/Screenshot 2025-11-01 111731.png" alt="QECH Logo" class="logo">
                    <div>
                        <h1 data-i18n="hospital_name">Queen Elizabeth Central Hospital</h1>
                        <h2 data-i18n="system_name">Queue Management System</h2>
                    </div>
                </div>
            </div>
            <nav aria-label="Primary">
                <ul>
                    <li><a class="btn btn-secondary" href="index.html" data-i18n="nav_home">Home</a></li>
                    <li><a class="btn btn-secondary" href="./html/queues.html" data-i18n="nav_queues">Queues</a></li>
                    <li><a class="btn btn-primary" href="./html/display.html" data-i18n="nav_display">Public Display</a></li>
                    <li>
                        <label for="language-select" class="visually-hidden">Language</label>
                        <select id="language-select" aria-label="Language selector">
                            <option value="en">English</option>
                            <option value="ny">Chichewa</option>
                        </select>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Welcome Hero Section -->
        <section id="welcome-section" class="card" style="text-align:center;">
            <h2 data-i18n="welcome_title">Welcome to QECH Queue Management System</h2>
            <p data-i18n="welcome_desc" style="max-width:720px;margin:0.5rem auto 1rem;">
                Streamline patient flow across departments and reduce waiting times. Please login or create an account to access your dashboard. Public display shows live tokens being served.
            </p>
            <div class="control-buttons" style="justify-content:center;">
                <a class="btn btn-primary" href="./html/login.html" data-i18n="btn_login">Login</a>
                <a class="btn btn-secondary" href="./html/register.html" data-i18n="btn_create_account">Create Account</a>
                <a class="btn btn-success" href="./html/display.html" data-i18n="btn_view_public">View Public Display</a>
            </div>
        </section>

        <!-- Patient functionality moved to patient.html -->

        <!-- Staff functionality moved to staff.html -->

        <!-- Admin functionality moved to admin.html -->

        <!-- Public Queue Display -->
        <section id="public-display" class="card">
            <h2 data-i18n="public_display_title">Current Queue Status</h2>
            <div class="department-queues">
                <div class="department-queue">
                    <h3 data-i18n="dept_opd">Outpatient Department (OPD)</h3>
                    <div id="opd-queue" class="queue-display">
                        <p><span data-i18n="label_currently_serving">Currently Serving:</span> <span class="current-token">-</span></p>
                        <p><span data-i18n="label_next">Next:</span> <span class="next-token">-</span></p>
                    </div>
                </div>
                <div class="department-queue">
                    <h3 data-i18n="dept_maternity">Maternity</h3>
                    <div id="maternity-queue" class="queue-display">
                        <p><span data-i18n="label_currently_serving">Currently Serving:</span> <span class="current-token">-</span></p>
                        <p><span data-i18n="label_next">Next:</span> <span class="next-token">-</span></p>
                    </div>
                </div>
                <div class="department-queue">
                    <h3 data-i18n="dept_emergency">Emergency</h3>
                    <div id="emergency-queue" class="queue-display">
                        <p><span data-i18n="label_currently_serving">Currently Serving:</span> <span class="current-token">-</span></p>
                        <p><span data-i18n="label_next">Next:</span> <span class="next-token">-</span></p>
                    </div>
                </div>
                <div class="department-queue">
                    <h3 data-i18n="dept_pediatrics">Pediatrics</h3>
                    <div id="pediatrics-queue" class="queue-display">
                        <p><span data-i18n="label_currently_serving">Currently Serving:</span> <span class="current-token">-</span></p>
                        <p><span data-i18n="label_next">Next:</span> <span class="next-token">-</span></p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>About QECH</h3>
                    <p>Queen Elizabeth Central Hospital is Malawi's largest referral hospital, providing quality healthcare services to the nation.</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="./html/patient.html">Patient Portal</a></li>
                        <li><a href="./html/staff.html">Staff Portal</a></li>
                        <li><a href="./html/admin.html">Admin Portal</a></li>
                        <li><a href="./html/display.html">Public Display</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>Queen Elizabeth Central Hospital<br>
                    Blantyre, Malawi<br>
                    Phone: +265 1 871 111</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-i18n="footer_line1">&copy; 2023 Queen Elizabeth Central Hospital - Queue Management System</p>
            </div>
        </div>
    </footer>

    <script src="./js/auth.js"></script>
    <script src="./js/queue.js"></script>
    <script src="./js/style.js"></script>
    <script>
      // Auto-refresh current queue status on the home page
      document.addEventListener('DOMContentLoaded', () => {
        if (typeof updateHomeQueueStatus === 'function') {
          updateHomeQueueStatus();
          setInterval(updateHomeQueueStatus, 10000);
        }
      });
    </script>
</body>
</html>